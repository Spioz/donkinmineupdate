<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donkin Mine Tracker</title>
    <link rel="stylesheet" href="style.css">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#1FB8CD">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Donkin Tracker">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiRG9ua2luIE1pbmUgVHJhY2tlciIsInNob3J0X25hbWUiOiJEb25raW5UcmFja2VyIiwiZGVzY3JpcHRpb24iOiJUcmFjayBEb25raW4gY29hbCBtaW5lIHNhbGUgbmV3cyIsInRoZW1lX2NvbG9yIjoiIzFGQjhDRCIsImJhY2tncm91bmRfY29sb3IiOiIjZmZmZmZmIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJvcmllbnRhdGlvbiI6InBvcnRyYWl0Iiwic3RhcnRfdXJsIjoiLyIsImljb25zIjpbeyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNalEwSWlCb1pXbG5hSFE5SWpJME5DSWdkbWxsZDFKdmVEMGlNQ0F3SURJME5DQXlORFFpSUdacGJHdzlJaU5tWm1ZaVBnMEthQ0JwWkQwaWFXTnZiaUlnWTJ4aGMzTTlJaWMyTVRkMk16Y3hNU0lnWm1sc2JEMGlJekZHUWpoRFJDSStQR0psYkc5M0x6NE5DaUJrWlRvNmFGTXlJMkZ3Y0EwS2JEcDBjbUZqYXlNM01UUTFPemczZUhkNk1pNUZlVlZUWm1waFZFbERNbkpoUlRJd2FGVlBNemw0WkhsNWVqTlZMZz09SWlCemFYcGxjejBpTVRreWVERTVNaUlnZEhsd1pUMGlhVzFoWjJVdmNHNW5JaUlzZXlKemNtTWlPaUprWVhSaE9tbHRZV2RsYzNablluaHRZV3M3WW1GelpUWTBMRWRvUXpsU2VuQm1aeUUySWl3aWMybDZaWE1pT2lJMU1USjROVEV5SWl3aWRIbHdaU0k2SW1sdFlXZGxMM0J1WnlKOVhTNDBPR2RRVmpCM0x6NE5Dajl6ZG1jKyIsInNpemVzIjoiMTkyeDE5MiIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn0seyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlOVEV5SWlCb1pXbG5hSFE5SWpVeE1pSWdkbWxsZDFKdmVEMGlNQ0F3SURFME5DQXhORFFpSUdacGJHdzlJaU5tWm1ZaVBnMEthQ0JwWkQwaWFXTnZiaUlnWTJ4aGMzTTlJaWMyTVRkMk16Y3hNU0lnWm1sc2JEMGlJekZHUWpoRFJDSStQR0psYkc5M0x6NE5DaUJrWlRvNmFGTXlJMkZ3Y0EwS2JEcDBjbUZqYXlNM01UUTFPemczZUhkNk1pNUZlVlZUWm1waFZFbERNbkpoUlRJd2FGVlBNemw0WkhsNWVqTlZMZz09SWlCemFYcGxjejBpTlRFeWVEVXhNaUlnZEhsd1pUMGlhVzFoWjJVdmMzWm5LM2h0YkNKOVhTNDBPR2RRVmpCM0x6NE5Dajl6ZG1jKyIsInNpemVzIjoiNTEyeDUxMiIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn1dfQ==">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQ0IiBoZWlnaHQ9IjI0NCIgdmlld0JveD0iMCAwIDI0NCAyNDQiIGZpbGw9IiNmZmYiPg0KaWQtMCZmTjM4YyZjbGFzcz0iYzYxN3YzNzEiIGZpbGw9IiMxRkI4Q0QiPjxiZWxvdy8+DQpkZTpoDZSQ2FwcUEtIdBjYzNVUmFhVGxDMnJhRTIwaFVPMzl4ZHl5ejNVTGc9PSJ6cGZnTg0KPC9zdmc+">
</head>
<body>
    <!-- App Container -->
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">Donkin Mine Tracker</h1>
                <div class="header-actions">
                    <button id="refresh-btn" class="btn-icon" title="Refresh News">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"></polyline>
                            <polyline points="1 20 1 14 7 14"></polyline>
                            <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                        </svg>
                    </button>
                    <button id="settings-btn" class="btn-icon" title="Settings">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="app-main">
            <!-- News Feed -->
            <div id="news-feed" class="news-feed">
                <div class="news-header">
                    <h2>Latest News</h2>
                    <div class="news-stats">
                        <span id="news-count">0 items</span>
                    </div>
                </div>
                
                <!-- Pull to Refresh Indicator -->
                <div id="pull-indicator" class="pull-indicator hidden">
                    <div class="pull-spinner"></div>
                    <span>Pull to refresh</span>
                </div>
                
                <!-- News List -->
                <div id="news-list" class="news-list">
                    <!-- News items will be dynamically inserted here -->
                </div>
                
                <!-- Loading State -->
                <div id="loading-state" class="loading-state hidden">
                    <div class="loading-spinner"></div>
                    <p>Loading news...</p>
                </div>
                
                <!-- Empty State -->
                <div id="empty-state" class="empty-state hidden">
                    <div class="empty-icon">ðŸ“°</div>
                    <h3>No News Yet</h3>
                    <p>Pull down to refresh or tap the refresh button to check for new Donkin mine updates.</p>
                    <button id="empty-refresh-btn" class="btn btn--primary">Check for News</button>
                </div>
            </div>
        </main>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button id="nav-news" class="nav-item active">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 3h6l2 13h7a1 1 0 0 1 0 2H6l-2-13H1"></path>
                </svg>
                <span>News</span>
            </button>
            <button id="nav-archive" class="nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polyline points="21 8 12 17 3 8"></polyline>
                    <path d="M21 4H3a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1z"></path>
                </svg>
                <span>Archive</span>
            </button>
            <button id="nav-search" class="nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="M21 21l-4.35-4.35"></path>
                </svg>
                <span>Search</span>
            </button>
            <button id="nav-settings" class="nav-item">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M12 1v6m0 6v6m11-7h-6m-6 0H1"></path>
                </svg>
                <span>Settings</span>
            </button>
        </nav>
    </div>

    <!-- News Detail Modal -->
    <div id="news-detail-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <button id="detail-back-btn" class="btn-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </button>
                <div class="modal-header-text">
                    <span id="detail-category" class="category-badge"></span>
                </div>
                <button id="detail-share-btn" class="btn-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
                        <polyline points="16 6 12 2 8 6"></polyline>
                        <line x1="12" y1="2" x2="12" y2="15"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div class="detail-content">
                    <h2 id="detail-title" class="detail-title"></h2>
                    <div class="detail-meta">
                        <span id="detail-date" class="detail-date"></span>
                        <span id="detail-status" class="status-badge"></span>
                    </div>
                    <div id="detail-summary" class="detail-summary"></div>
                    <div id="detail-content" class="detail-text"></div>
                    <div id="detail-sources" class="detail-sources">
                        <h3>Sources</h3>
                        <div id="sources-list" class="sources-list"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Archive Modal -->
    <div id="archive-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <button id="archive-back-btn" class="btn-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </button>
                <div class="modal-header-text">
                    <h3>News Archive</h3>
                </div>
                <button id="archive-clear-btn" class="btn-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div id="archive-list" class="archive-list">
                    <!-- Archive items will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Search Modal -->
    <div id="search-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <button id="search-back-btn" class="btn-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </button>
                <div class="search-input-container">
                    <input id="search-input" type="text" placeholder="Search news..." class="search-input">
                </div>
                <button id="search-clear-btn" class="btn-icon">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="modal-body">
                <div id="search-results" class="search-results">
                    <!-- Search results will be dynamically inserted here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <button id="settings-back-btn" class="btn-icon">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                </button>
                <div class="modal-header-text">
                    <h3>Settings</h3>
                </div>
            </div>
            <div class="modal-body">
                <div class="settings-content">
                    <div class="setting-group">
                        <label class="setting-label">Email Notifications</label>
                        <input id="settings-email" type="email" placeholder="your-email@example.com" class="form-control">
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Notification Frequency</label>
                        <select id="settings-frequency" class="form-control">
                            <option value="daily">Daily</option>
                            <option value="weekly">Weekly</option>
                            <option value="instant">Instant</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <label class="setting-label">Theme</label>
                        <select id="settings-theme" class="form-control">
                            <option value="auto">Auto</option>
                            <option value="light">Light</option>
                            <option value="dark">Dark</option>
                        </select>
                    </div>
                    
                    <div class="setting-group">
                        <div class="setting-item">
                            <span class="setting-text">Push Notifications</span>
                            <label class="toggle">
                                <input id="settings-push" type="checkbox">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                    </div>
                    
                    <div class="setting-actions">
                        <button id="save-settings-btn" class="btn btn--primary btn--full-width">Save Settings</button>
                        <button id="install-app-btn" class="btn btn--outline btn--full-width hidden">Install App</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Install Prompt -->
    <div id="install-prompt" class="install-prompt hidden">
        <div class="install-content">
            <div class="install-icon">ðŸ“±</div>
            <div class="install-text">
                <h4>Install Donkin Tracker</h4>
                <p>Get the full app experience with offline access and notifications.</p>
            </div>
            <div class="install-actions">
                <button id="install-dismiss" class="btn btn--outline btn--sm">Maybe Later</button>
                <button id="install-accept" class="btn btn--primary btn--sm">Install</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>